todoに書かれている作業を実行し、完了したアイテムはdoneに移動してください。

# todo: これからやること


# pending: 保留


# done: 既に完了したこと

- 端末の全画面で動作するncurses風アプリを作る。Go言語とtviewを使用する。
- 起動したら、画面中央に"Hello, world"と表示する。
- Escが押されたら終了する。
- "Hello, world"を表示するコードは削除してください。
- プログラムの最初で、カレントディレクトリにGitリポジトリ（`.git`）が存在するか確認し、なければエラー終了、あれば続行します。
- Gitのコミットログを取得してください。このとき、`--all`オプションをつけて、すべてのブランチのコミットログを取得してください。
- コミットログをリスト形式で画面に表示してください。
- 最新のコミットログを「現在選択されているコミット」とし、反転表示してください。
- 現在選択されているコミットは、上下の矢印キーでリスト内を移動できるようにします。
- 画面の上端で↑キー、または、画面の下端で↓キーを押すと、コミットログリストはスクロールし、それまで画面外で表示されていなかった部分が現れるようにします。
- 現在選択されているコミットの行とそれより下のすべてが反転表示されてしまいます。反転表示は１行だけにしてください。
- Page UpキーとPage Downキーに対応して、画面単位でスクロールできるようにしてほしい。
- 日時表示は`yyyy-MM-dd HH:mm:ss`形式にしてください。時差やタイムゾーンの表示は不要です。
- 著者（Author）を表示してください。
- コミットメッセージに改行が含まれるときは、1文字のスペースに置換してください。
- 1コミットの表示は1行とし、テキストが画面の1行に収まらないときは、右端を切り捨ててください。
- `midScreen`は廃止し、`currentCommit`とは別にスクロール位置の変数を用意してください。"選択行がなるべく中央に表示されるように調整する"のではなく、スクロール位置と現在の選択位置を個別に管理し、現在の選択位置が画面範囲内を移動する限り、できるだけスクロールしないようにしてください。
- 起動直後、画面の一部が完全に描画されていないことがあります。起動の最初にできるだけ確実に表示更新が行われるようにしてください。
- Uncommited Changes があるとき、リストの先頭にそのように表示してください。
- リストを表示する高さを`画面の行数`-2としてください。下部2行には将来ステータス等を表示する予定です。
- Enterを押したとき、画面最下行に確認ダイアログ（`[y/n]`）を表示し、`y`のときは当該コミットをチェックアウトする機能を実装してください。ただし、Uncommit Changes のときはこの機能は使えません。
- チェックアウトするとき、ブランチがわかる場合はそのブランチへswitchします。そうでないときは detached HEAD でも構いません。
- リスト表示で、HEADが示す行を黄色で描画してください。
- チェックアウトするコミットとブランチのハッシュが一致するときは`git switch`を実行してブランチを切り替えてください。
- チェックアウトするコミットとブランチのハッシュが一致しないときは`git checkout`を実行して、ブランチ名ではなく、ハッシュ値でチェックアウト（detached head）してください。
- チェックアウトするコミットとブランチのハッシュが一致するときの確認メッセージに、ブランチ名を表示してください。
- チェックアウトするコミットとブランチのハッシュが一致しないときの確認メッセージには、detached head であることを表示してください。
- チェックアウトしようとするコミットに、複数のブランチ候補があるとき、選択できるようにしたい。
- ブランチを選択するUIは、現在の`[y/n]`の代わりに、最下行に`main foo bar ...`の様に表示し、左右の矢印キーで選べるようにしたい。
- チェックアウトが detached head のとき、チェックアウト確認は`[y/n]`のみ。ブランチの選択は行わない。
- チェックアウトが detached head ではないとき、ブランチの選択が先で、チェックアウト確認の`[y/n]`は後。
- ブランチの候補がひとつだけのときでも、ブランチの選択は省略しない（選択肢をひとつだけ表示）
- ブランチを切り替えた後、最下行に表示されている`Total commits: nnnn (Branch: xxxx)`のブランチ名が更新されていません。表示を更新してください。
- 現在のHEADがdetachedであるとき、リストに表示されているコミットメッセージの後ろに`[(HEAD detached at xxxxxxx)]`と表示されます。これを消してください。
- 現在のブランチが`dev`であるとき、`dev`と`master`があるコミットをチェックアウトしようとして`master`を選択すると、次の確認メッセージで`Checkout branch 'dev'? [y/n]`と表示されます。選択したブランチ名と確認メッセージに表示されるブランチ名を一致させてください。
- ブランチの切り替え後は必ずリストの描画を更新してください。
- 最下行に表示される`Total commits: nnnn (Branch: xxxx)`のブランチ名は、選択されているコミットのブランチ名ではなく、現在のHEADが指しているブランチ名を表示してください。現在のHEADがdetachedである場合はその様に表示してください。
- このプロジェクトを紹介する文書 `README.md` を英語で書いてください。
- 冒頭に作業中（wip）であることを書き添えてください。
- コードのほとんどを GitHub Copilot Agent と Claude 3.7 Sonnet で生成したことを書いてください。
